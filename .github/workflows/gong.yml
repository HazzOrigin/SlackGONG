name: Gong Poster
on:
  workflow_dispatch:
    inputs:
      owner:   { required: false, default: "<@U123ABC>" }
      account: { required: false, default: "Acme Corp" }
      amount:  { required: false, default: "$125,000" }
jobs:
  post:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with: { node-version: '20' }
      - run: npm ci
      - run: node index.js
        env:
          SLACK_BOT_TOKEN: ${{ secrets.SLACK_BOT_TOKEN }}
          CHANNEL_ID: ${{ secrets.CHANNEL_ID }}
          GONG_MP3_URL: https://www.myinstants.com//media/sounds/asian-gong.mp3
          OWNER:   ${{ github.event.inputs.owner }}
          ACCOUNT: ${{ github.event.inputs.account }}
          AMOUNT:  ${{ github.event.inputs.amount }}
